<!DOCTYPE html>
<html>
<head>
  <title>fieldValidation.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../";
    var thisFile = "Users/barton/projects/snowflakework/snowflake/lib/fieldValidation.js";
    var defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#fieldvalidation.js">fieldValidation.js</a>
      </div>

      <div class="heading h2">
        <a href="#imports">Imports</a>
      </div>

      <div class="heading h3">
        <a href="#translations">Translations</a>
      </div>

      <div class="heading h2">
        <a href="#email-validation-setup">Email validation setup</a>
      </div>

      <div class="heading h2">
        <a href="#username-validation-rule">username validation rule</a>
      </div>

      <div class="heading h2">
        <a href="#password-validation-rule">password validation rule</a>
      </div>

      <div class="heading h2">
        <a href="#field-validation">Field Validation</a>
      </div>

      <div class="heading h3">
        <a href="#username-validation">username validation</a>
      </div>

      <div class="heading h3">
        <a href="#email-validation">email validation</a>
      </div>

      <div class="heading h3">
        <a href="#password-validation">password validation</a>
      </div>

      <div class="heading h3">
        <a href="#passwordagain-validation">passwordAgain validation</a>
      </div>

      <div class="heading h3">
        <a href="#showpassword">showPassword</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="fieldvalidation.js">
  <h1>
    <a href="#fieldvalidation.js" name="fieldvalidation.js" class="pilcrow"></a>
fieldValidation.js
  </h1>
</div>
</div>
<div class="body">
<p>Define the validation rules for various fields such as email, username,
and passwords.  If the rules are not passed, the appropriate
message is displayed to the user</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="imports">
  <h2>
    <a href="#imports" name="imports" class="pilcrow"></a>
Imports
  </h2>
</div>
</div>
<div class="body">
<p>validate and underscore</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">import</span> validate <span class="hljs-keyword">from</span> <span class="hljs-string">'validate.js'</span>;
<span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'underscore'</span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="translations">
  <h3>
    <a href="#translations" name="translations" class="pilcrow"></a>
Translations
  </h3>
</div>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> I18n = <span class="hljs-built_in">require</span>(<span class="hljs-string">'react-native-i18n'</span>);
<span class="hljs-keyword">import</span> Translations <span class="hljs-keyword">from</span> <span class="hljs-string">'../lib/Translations'</span>;
I18n.translations = Translations;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="email-validation-setup">
  <h2>
    <a href="#email-validation-setup" name="email-validation-setup" class="pilcrow"></a>
Email validation setup
  </h2>
</div>
<p>Used for validation of emails</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">const</span> emailConstraints = {
  <span class="hljs-keyword">from</span>: {
    email: <span class="hljs-literal">true</span>
  }
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="username-validation-rule">
  <h2>
    <a href="#username-validation-rule" name="username-validation-rule" class="pilcrow"></a>
username validation rule
  </h2>
</div>
<p>read the message.. ;)</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">const</span> usernamePattern = <span class="hljs-regexp">/^[a-zA-Z0-9]{6,12}$/</span>;
<span class="hljs-keyword">const</span> usernameConstraints = {
  username: {
    format: {
      pattern: usernamePattern,
      flags: <span class="hljs-string">'i'</span>
    }
  }
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="password-validation-rule">
  <h2>
    <a href="#password-validation-rule" name="password-validation-rule" class="pilcrow"></a>
password validation rule
  </h2>
</div>
<p>read the message... ;)</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">const</span> passwordPattern =  <span class="hljs-regexp">/^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,12}$/</span>;
<span class="hljs-keyword">const</span> passwordConstraints = {
  password: {
    format: {
      pattern: passwordPattern,
      flags: <span class="hljs-string">"i"</span>
    }
  }
};

<span class="hljs-keyword">const</span> passwordAgainConstraints = {
  confirmPassword: {
    equality: <span class="hljs-string">"password"</span>
  }
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="field-validation">
  <h2>
    <a href="#field-validation" name="field-validation" class="pilcrow"></a>
Field Validation
  </h2>
</div>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">state</span>
<span class="dox_type">Object</span>
<span>Redux state
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">action</span>
<span class="dox_type">Object</span>
<span>type &amp; payload
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fieldValidation</span>(<span class="hljs-params">state, action </span>) </span>{
  <span class="hljs-keyword">const</span> {field, value} = action.payload;
  
  <span class="hljs-keyword">switch</span>(field) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="username-validation">
  <h3>
    <a href="#username-validation" name="username-validation" class="pilcrow"></a>
username validation
  </h3>
</div>
<p>set the form field error</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">case</span>(<span class="hljs-string">'username'</span>):
    <span class="hljs-keyword">let</span> validUsername  = _.isUndefined(validate({username: value},
                                                usernameConstraints));
    <span class="hljs-keyword">if</span> (validUsername) {
      <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'usernameHasError'</span>],
                         <span class="hljs-literal">false</span>)
        .setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'usernameErrorMsg'</span>], <span class="hljs-string">""</span>);

    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'usernameHasError'</span>], <span class="hljs-literal">true</span>)
        .setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'usernameErrorMsg'</span>],
               I18n.t(<span class="hljs-string">"FieldValidation.valid_user_name"</span>));
    }
    <span class="hljs-keyword">break</span>;
    
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="email-validation">
  <h3>
    <a href="#email-validation" name="email-validation" class="pilcrow"></a>
email validation
  </h3>
</div>
<p>set the form field error</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">case</span>(<span class="hljs-string">'email'</span>):
    <span class="hljs-keyword">let</span> validEmail  = _.isUndefined(validate({<span class="hljs-keyword">from</span>: value},
                                             emailConstraints));
    <span class="hljs-keyword">if</span> (validEmail) {
        <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'emailHasError'</span>], <span class="hljs-literal">false</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'emailHasError'</span>], <span class="hljs-literal">true</span>)
        .setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'emailErrorMsg'</span>],
                 I18n.t(<span class="hljs-string">"FieldValidation.valid_email"</span>));
    }
    <span class="hljs-keyword">break</span>;
    
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="password-validation">
  <h3>
    <a href="#password-validation" name="password-validation" class="pilcrow"></a>
password validation
  </h3>
</div>
<p>set the form field error</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">case</span>(<span class="hljs-string">'password'</span>):
    <span class="hljs-keyword">let</span> validPassword = _.isUndefined(validate({password: value},
                                               passwordConstraints));
    <span class="hljs-keyword">if</span> (validPassword) {
      <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordHasError'</span>],
                         <span class="hljs-literal">false</span>)
        .setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordErrorMsg'</span>],
               <span class="hljs-string">""</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordHasError'</span>], <span class="hljs-literal">true</span>)
        .setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordErrorMsg'</span>],
          I18n.t(<span class="hljs-string">"FieldValidation.valid_password"</span>));               
    }
    <span class="hljs-keyword">break</span>;
    
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="passwordagain-validation">
  <h3>
    <a href="#passwordagain-validation" name="passwordagain-validation" class="pilcrow"></a>
passwordAgain validation
  </h3>
</div>
<p>set the form field error</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">case</span>(<span class="hljs-string">'passwordAgain'</span>):
    <span class="hljs-keyword">var</span> validPasswordAgain
      = _.isUndefined(validate({password: state.form.fields.password,
                                confirmPassword: value}, passwordAgainConstraints));
    <span class="hljs-keyword">if</span> (validPasswordAgain) {
      <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordAgainHasError'</span>],
                         <span class="hljs-literal">false</span>)
        .setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordAgainErrorMsg'</span>],<span class="hljs-string">''</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordAgainHasError'</span>],
                          <span class="hljs-literal">true</span>)
        .setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>, <span class="hljs-string">'passwordAgainErrorMsg'</span>],
        I18n.t(<span class="hljs-string">"FieldValidation.valid_password_again"</span>)); 

    }
    <span class="hljs-keyword">break</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="showpassword">
  <h3>
    <a href="#showpassword" name="showpassword" class="pilcrow"></a>
showPassword
  </h3>
</div>
<p>toggle the display of the password</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">case</span>(<span class="hljs-string">'showPassword'</span>):
    <span class="hljs-keyword">return</span> state.setIn([<span class="hljs-string">'form'</span>, <span class="hljs-string">'fields'</span>,
                                <span class="hljs-string">'showPassword'</span>], value);
    <span class="hljs-keyword">break</span>;
  }
  <span class="hljs-keyword">return</span> state;

}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
